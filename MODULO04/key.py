#!/usr/bin/python

import socket,sys


if __name__ == '__main__':
    try:
        ip = sys.argv[1]
        porta = int(sys.argv[2])
        s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

        if s.connect_ex((ip, porta)) == 0:
            print "porta: ",porta,"===> ABERTA\n"
            print "chave: ",s.recv(1024)
    except Exception as e:
        print "Erro: %s"%e
    finally:
        print "Exemplo: key.py 172.16.1.3 111 "
        print "                   IP     porta"
    

